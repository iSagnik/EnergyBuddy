[{"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\index.js":"1","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\reportWebVitals.js":"2","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\App.js":"3","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\goals.js":"4","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\login.js":"5","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\dashboard.js":"6","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\contexts\\authContext.js":"7","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\contexts\\goalsContext.js":"8","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-mycircle.js":"9","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\goal.js":"10","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-myprogress.js":"11","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\layout.js":"12","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-mygoals.js":"13","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\firebase.js":"14","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\community.js":"15","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\searchbar.js":"16"},{"size":524,"mtime":1607200351414,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"18"},{"size":639,"mtime":1607275906333,"results":"20","hashOfConfig":"18"},{"size":3906,"mtime":1607283813389,"results":"21","hashOfConfig":"18"},{"size":6461,"mtime":1607286524478,"results":"22","hashOfConfig":"18"},{"size":1869,"mtime":1607286873434,"results":"23","hashOfConfig":"18"},{"size":1147,"mtime":1607270434396,"results":"24","hashOfConfig":"18"},{"size":96,"mtime":1607211594383,"results":"25","hashOfConfig":"18"},{"size":479,"mtime":1607286873433,"results":"26","hashOfConfig":"18"},{"size":2078,"mtime":1607274159582,"results":"27","hashOfConfig":"18"},{"size":1829,"mtime":1607287953102,"results":"28","hashOfConfig":"18"},{"size":1732,"mtime":1607275906334,"results":"29","hashOfConfig":"18"},{"size":5045,"mtime":1607287927730,"results":"30","hashOfConfig":"18"},{"size":581,"mtime":1607200303323,"results":"31","hashOfConfig":"18"},{"size":4075,"mtime":1607286873432,"results":"32","hashOfConfig":"18"},{"size":3304,"mtime":1607278350275,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"17wnngr",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"36"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\index.js",[],["76","77"],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\reportWebVitals.js",[],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\App.js",[],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\goals.js",["78","79"],"import React, { useState, useEffect } from 'react';\r\nimport Goal from '../components/goal.js';\r\nimport { CardColumns, Button, Container } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport Layout from '../components/layout.js';\r\nimport Context from \"../contexts/goalsContext.js\";\r\nimport { useAuth } from '../contexts/authContext.js';\r\n\r\nfunction Goals() {\r\n    const [goalsInfo, setGoalsInfo] = useState([]);\r\n    const [goalsToAdd, setGoals] = useState({});\r\n    const { currentUser } = useAuth();\r\n\r\n    const readAllData = async () => {\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/goalInfo.json`,\r\n            withCredientials: true\r\n           })//.then((x) => setGoals(Object.values(x.data)));\r\n           const response = await result\r\n           setGoalsInfo(Object.values(response.data))\r\n           console.log(JSON.stringify(response.data))\r\n    }\r\n\r\n    const getUserGoals = async () => {\r\n        let username = getUsername(currentUser.email);\r\n        // let username = \"tejasgmail\";\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}/goalsList.json`,\r\n            withCredientials: true\r\n           })\r\n           const response = await result\r\n           console.log(response.data)\r\n            if(response.data)\r\n                setGoals(response.data);\r\n            console.log(goalsToAdd)\r\n            // console.log(\"respond.data\" + response.data);\r\n    }\r\n\r\n    function getUsername(email) {\r\n        let em_split = email.split('@');\r\n        let username = em_split[0]+em_split[1].split('.')[0];\r\n        return username;\r\n    }\r\n\r\n    async function updateGoalsList(user, list) {\r\n        let username = getUsername(user.email);\r\n        //  let username = \"tejasgmail\";\r\n        const obj = {goalsList: list};\r\n        const result = await axios({\r\n            method: 'patch',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}/.json`,\r\n            withCredientials: true,\r\n            data: obj\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        readAllData();\r\n        getUserGoals();\r\n    }, [])\r\n    \r\n    const HandleGoalsButtonClick = () => {\r\n        //push to database\r\n        updateGoalsList(currentUser, goalsToAdd);\r\n        console.log(goalsToAdd.length)\r\n        console.log(\"Button click successful\")\r\n    }\r\n    \r\n    return (\r\n        <Layout>\r\n            <h6 style={{color:\"white\", backgroundColor: \"gray\", padding: \"1%\"}}>Choose which sustainability goals you want to work towards! When you\r\n                are finished selecting, press the 'Done' button below</h6>\r\n            <Container>\r\n                \r\n                <Button onClick = { HandleGoalsButtonClick } variant=\"success\" style={{marginBottom: \"1%\"}}> Done </Button>\r\n                \r\n                <CardColumns>\r\n                    {console.log(\"type of goalsToAdd: \" + typeof goalsToAdd)}\r\n                <Context.Provider value = { {goalsToAdd, setGoals} } >\r\n                {\r\n                    goalsInfo &&\r\n                    goalsInfo.map( card => (\r\n                        <Goal\r\n                            cardObject = { card }\r\n                            displayName = {card.displayName} \r\n                            points = {card.points} \r\n                            uniqueId = {card.uniqueId}\r\n                            info = {card.info}\r\n                            attributes = {card.attributes}\r\n                        /> \r\n                    )\r\n                    )\r\n                }\r\n                </Context.Provider>\r\n                </CardColumns>\r\n            </Container>\r\n            \r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Goals","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\login.js",["80","81","82","83","84","85","86"],"// import 'bulma/css/bulma.css';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useAuth } from '../contexts/authContext.js';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport loginBackground from '../media/loginBackground.mp4';\r\nimport ResponsiveEmbed from 'react-bootstrap/ResponsiveEmbed';\r\nimport '../styles/login.css';\r\nimport axios from 'axios';\r\nimport Community from './../components/community.js';\r\n\r\nexport default function Login() {\r\n\r\n    // login\r\n    const usernameRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    // signup\r\n    const emailRef = useRef();\r\n    const newPasswordRef = useRef();\r\n    const secondPasswordRef = useRef();\r\n    const roleRef = useRef();\r\n    const nameRef = useRef();\r\n\r\n    const [isLogin, setLogin] = useState(true);\r\n\r\n    const { login, signup, currentUser } = useAuth();\r\n\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    async function handleLoginSubmit(e) {\r\n        e.preventDefault();\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            let a = await login(usernameRef.current.value, passwordRef.current.value);\r\n            history.push('/goals');\r\n            // console.log(currentUser);\r\n        } catch {\r\n            setError(\"Account credentials are wrong\");\r\n        }\r\n        \r\n        setLoading(false);\r\n    }\r\n\r\n    async function setData() {\r\n        const username = getUsername(emailRef.current.value);\r\n        let obj = {}\r\n        obj[\"name\"] = nameRef.current.value;\r\n        obj[\"points\"] = 0\r\n        const result = await axios({\r\n            method: 'put',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}.json`,\r\n            data: {\r\n                name: nameRef.current.value,\r\n                uniqueID: username,\r\n                email: emailRef.current.value,\r\n                goalsList: [\"goal1\"], \r\n                community: [obj],\r\n                Role: roleRef.current.value,\r\n                Points: 0\r\n            }\r\n        });\r\n    }\r\n\r\n    function getUsername(email) {\r\n        let em_split = email.split('@');\r\n        let username = em_split[0]+em_split[1].split('.')[0];\r\n        return username;\r\n    }\r\n\r\n    function renderLogin() {\r\n        return(<div className=\"tabs-content\">\r\n        <form className=\"loginform\" onSubmit={handleLoginSubmit}>\r\n                <input type=\"text\" className=\"input\" id=\"user_login\" autoComplete=\"off\" placeholder=\"Email or Username\" ref={usernameRef}/>\r\n                <input type=\"password\" className=\"input\" id=\"user_pass\" autoComplete=\"off\" placeholder=\"Password\" ref={passwordRef}/>\r\n\r\n                <input type=\"submit\" className=\"button\" value=\"Login\"/>\r\n            </form>\r\n            <div className=\"help-text\">\r\n                <p><a href=\"#\">Forget your password?</a></p>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    async function handleSignUpSubmit(e) {\r\n        e.preventDefault();\r\n        try {\r\n            setError(\"\");\r\n            // check password match\r\n            // console.log(newPasswordRef.current.value, secondPasswordRef.current.value);\r\n            if (newPasswordRef.current.value !== secondPasswordRef.current.value) {\r\n                setError(\"Passwords do not match\")\r\n            } else {\r\n                setLoading(true);\r\n                await signup(emailRef.current.value, newPasswordRef.current.value);\r\n                setData(); \r\n                history.push('/goals'); \r\n            }           \r\n        } catch {\r\n            setError(\"Something went wrong. Try again\");\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    function renderSignUp() {\r\n        return (<div className=\"tabs-content\">\r\n            <div className=\"signup-container\">\r\n        <form className=\"signup-form\" onSubmit={handleSignUpSubmit}>\r\n            {error && <h4 id=\"error\">{error}</h4>}\r\n                <div id=\"login-tab-content\" className=\"active\">\r\n                    {/* <form className=\"signup-form\" action=\"\" method=\"post\"> */}\r\n                        <input type=\"text\" className=\"input\" id=\"user_name\" autoComplete=\"off\" placeholder=\"Name\" ref={nameRef}/>\r\n                        <input type=\"email\" className=\"input\" id=\"user_email\" autoComplete=\"off\" placeholder=\"Email\" ref={emailRef}/>\r\n                        <input type=\"text\" className=\"input\" id=\"user_role\" autoComplete=\"off\" placeholder=\"Role\" ref={roleRef}/>\r\n                        <input type=\"password\" className=\"input\" id=\"user_pass\" autoComplete=\"off\" placeholder=\"Password\" ref={newPasswordRef}/>\r\n                        <input type=\"password\" className=\"input\" id=\"user_confirmPass\" autoComplete=\"off\" placeholder=\"Re-enter Password\"ref={secondPasswordRef}></input>\r\n                        <input type=\"submit\" className=\"button is-dark\" value=\"Create Account\"/>\r\n                    {/* </form> */}\r\n                </div>\r\n            </form>\r\n        </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    function setLoginFalse() {\r\n        setLogin(false);\r\n    }\r\n\r\n    function setLoginTrue() {\r\n        setLogin(true);\r\n    }\r\n\r\n    function renderDarkLogin() {\r\n        return (<div className=\"tabs\">\r\n            <h3><a href=\"#signup-tab-content\" onClick={setLoginFalse}>Sign Up</a></h3>\r\n            <h3><a className=\"active\" href=\"#login-tab-content\" onClick={setLoginTrue}>Login</a></h3>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    function renderDarkSignUp() {\r\n        return (<div className=\"tabs\">\r\n            <h3><a className=\"active\" href=\"#signup-tab-content\" onClick={setLoginFalse}>Sign Up</a></h3>\r\n            <h3><a href=\"#login-tab-content\" onClick={setLoginTrue}>Login</a></h3>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    return ( <div style={{ width: 'auto', height: 'auto'}}>\r\n        <ResponsiveEmbed aspectRatio=\"16by9\" style={{position: \"fixed\"}}>\r\n            <video id=\"background-video\" className=\"videoTag\" autoPlay=\"autoplay\" loop=\"loop\" muted>\r\n                <source type='video/mp4' src={loginBackground} />\r\n            </video>\r\n        </ResponsiveEmbed>\r\n                \r\n    <div className=\"login-container\" style={{position:\"fixed\"}}>\r\n        <div className=\"form-wrap\">\r\n            {isLogin ? renderDarkLogin() : renderDarkSignUp()}\r\n\r\n            {isLogin ? renderLogin() : renderSignUp()}\r\n        </div>\r\n    </div>\r\n</div>               \r\n    )\r\n}","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\pages\\dashboard.js",["87","88","89","90"],"import Layout from '../components/layout';\r\nimport { Container, Col, Row, ListGroup, Card } from 'react-bootstrap'\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/authContext';\r\nimport MyGoalsDash from \"../components/dash-mygoals.js\"\r\nimport MyProgressDash from \"../components/dash-myprogress.js\"\r\nimport MyCircleDash from \"../components/dash-mycircle.js\"\r\nimport axios from 'axios';\r\nimport styled from 'styled-components'\r\n\r\nconst Styling = styled.div`\r\n    color: white;\r\n`\r\nfunction getUsername(email) {\r\n    let em_split = email.split('@');\r\n    let username = em_split[0]+em_split[1].split('.')[0];\r\n    return username;\r\n}\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n    const { currentUser } = useAuth();\r\n    const [ goals, setGoals ] = useState(null)\r\n\r\n\r\n    const getUserGoals = async () => {\r\n        let username = getUsername(currentUser.email);\r\n        // let username = \"tejasgmail\";\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}/goalsList.json`,\r\n            withCredientials: true\r\n           })\r\n           const response = await result\r\n           console.log(response.data)\r\n           if(response.data)\r\n            setGoals(response.data);\r\n            // console.log(\"respond.data\" + response.data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUserGoals();\r\n\r\n    }, [])\r\n    return (\r\n        <Layout>\r\n            <Styling><h1>Dashboard</h1></Styling>\r\n            <Container fluid className=\"dashboard-container\">\r\n            <Row>\r\n                {console.log(goals)}\r\n                <MyGoalsDash goals = {goals} />\r\n                <MyProgressDash />\r\n                <MyCircleDash />\r\n            </Row>\r\n            </Container>\r\n        </Layout>\r\n    )\r\n\r\n}\r\nexport default Dashboard;","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\contexts\\authContext.js",[],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\contexts\\goalsContext.js",[],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-mycircle.js",["91","92","93","94","95","96"],"import Layout from '../components/layout';\r\nimport { Container, Col, Row, ListGroup, Card } from 'react-bootstrap'\r\nimport React, { useState, useEffect } from 'react';\r\nimport Community from './community.js';\r\n\r\nconst MyCircleDash = () => {\r\n\r\n    return (\r\n        <Col className = \"my-circle\">\r\n            <Card className=\"card-background\">\r\n            <h4>My Circle</h4>\r\n            <Community/>\r\n            </Card>\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default MyCircleDash","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\goal.js",[],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-myprogress.js",["97","98","99","100","101"],"import Layout from '../components/layout';\r\nimport { Container, Col, Row, ListGroup } from 'react-bootstrap'\r\nimport React, { useState, useEffect } from 'react';\r\nimport ProgressBar from 'react-bootstrap/ProgressBar'\r\nimport { useAuth } from '../contexts/authContext.js';\r\nimport axios from 'axios';\r\n\r\nconst MyProgressDash = () => {\r\n    const { currentUser } = useAuth();\r\n    const [ goals, setGoals ] = useState(null)\r\n\r\n    const getUserGoals = async () => {\r\n        let username = getUsername(currentUser.email);\r\n        // let username = \"tejasgmail\";\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}/goalsList.json`,\r\n            withCredientials: true\r\n           })\r\n           const response = await result\r\n           console.log(response.data)\r\n           if(response.data)\r\n            setGoals(response.data);\r\n            // console.log(\"respond.data\" + response.data);\r\n    }\r\n\r\n    function getUsername(email) {\r\n        let em_split = email.split('@');\r\n        let username = em_split[0]+em_split[1].split('.')[0];\r\n        return username;\r\n    }\r\n\r\n    function calcPercent() {\r\n        var tot = 0\r\n        var Complete = 0\r\n        for(const obj in goals ) {\r\n            tot++;\r\n            if(goals[obj][\"isComplete\"]) {\r\n                Complete++;\r\n            }\r\n\r\n        }\r\n        console.log(Complete/tot * 100)\r\n        console.log(\" s  \")\r\n        return (Complete/tot * 100)\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUserGoals();\r\n    }, [])\r\n    return (\r\n        <Col xs = {5} className = \"my-progress\" >\r\n            <h4>My Progress</h4>\r\n            <ProgressBar variant=\"success\" animated now={ calcPercent() } />\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default MyProgressDash;","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\layout.js",["102","103"],"import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport {Nav, NavDropdown, Navbar} from 'react-bootstrap'\r\nimport { useAuth } from '../contexts/authContext';\r\n// import Image from 'react-bootstrap/Image';\r\n// import natureBackground from '../media/natureBackground.jpg'\r\nimport ResponsiveEmbed from 'react-bootstrap/ResponsiveEmbed';\r\n// import { ImageBackground, StyleSheet, Text, View } from 'react-native';\r\nimport '../styles/layout.css';\r\n\r\n\r\nconst Layout = ({ children }) => {\r\n    const { logout } = useAuth();\r\n\r\n  return (\r\n    <>\r\n        <header>\r\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n            <Navbar.Brand href=\"/\">Energy Buddy</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                <Nav className=\"mr-auto\">\r\n                <Nav.Link href=\"/goals\">Goals</Nav.Link>\r\n                <Nav.Link href=\"/dashboard\">Dashboard</Nav.Link>\r\n                \r\n                </Nav>\r\n                <Nav>\r\n                <Nav.Link onClick={logout} href=\"/\">\r\n                    Logout\r\n                </Nav.Link>\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n        </header>\r\n        <main id=\"main\">\r\n            {children}\r\n        </main>\r\n        \r\n        {/* </div>\r\n\r\n</div> */}\r\n        <footer>\r\n            <Navbar bg=\"dark\">\r\n                <Navbar.Brand style={{color: \"white\", fontSize: \"20px\"}}>Created by Arpita D., Sagnik B., Tejas P., and Simran S.</Navbar.Brand>\r\n            </Navbar>\r\n        </footer>\r\n    </>\r\n    )\r\n}\r\n\r\nLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport default Layout\r\n","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\dash-mygoals.js",["104","105","106","107","108","109","110","111"],"import React, { useState, useEffect } from 'react'\r\nimport { Col, Row, ListGroup, Card } from 'react-bootstrap'\r\nimport styled from 'styled-components'\r\nimport { useAuth } from '../contexts/authContext.js';\r\nimport axios from 'axios';\r\n\r\nconst Styling = styled.div`\r\n    color: black;\r\n    padding-left: 30px;\r\n`\r\n\r\nconst RowStyle = styled.div`\r\n    inline: block;\r\n`\r\n\r\nconst MyGoalsDash = ( {goals} ) => {\r\n    const [goalsData, setGoalData] = useState(goals)\r\n    const [myPoints, setPoints] = useState(0)\r\n    const { currentUser } = useAuth();\r\n\r\n    function getUsername(email) {\r\n        let em_split = email.split('@');\r\n        let username = em_split[0]+em_split[1].split('.')[0];\r\n        return username;\r\n    }\r\n\r\n    async function updateGoalsList(user, list) {\r\n        let username = getUsername(user.email);\r\n        //  let username = \"tejasgmail\";\r\n        const obj = {goalsList: list};\r\n        const result = await axios({\r\n            method: 'patch',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${username}/.json`,\r\n            withCredientials: true,\r\n            data: obj\r\n        });\r\n    }\r\n\r\n    async function getPoints( user ) {\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${user}/points.json`,\r\n            withCredientials: true\r\n           }).then((x) => {\r\n            setPoints(parseInt(x.data))\r\n       })\r\n    }\r\n\r\n    async function updatePoints(user, points) {\r\n        let username = getUsername(user.email);\r\n        //  let username = \"tejasgmail\";\r\n        const obj = {Points: points};\r\n        const result = await axios({\r\n            method: 'patch',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${user}/.json`,\r\n            withCredientials: true,\r\n            data: obj\r\n        });\r\n    }\r\n\r\n    const handleCompletion = ( user ) => {\r\n        var temp = goals\r\n        console.log(JSON.stringify(temp))\r\n        temp[user].isComplete = true\r\n        setGoalData(temp)\r\n        updateGoalsList( currentUser, goalsData)\r\n        //getPoints( currentUser )\r\n        //var newPoints = parseInt(goalsData[user].points) + myPoints\r\n        //updatePoints( currentUser, newPoints )\r\n        console.log(\"comp \")\r\n    }\r\n\r\n    useEffect(() => {\r\n        setGoalData(goals)\r\n        console.log(goalsData)\r\n        console.log(\"up  ated\")\r\n    }, [goalsData])\r\n\r\n    return (\r\n        <Col className = \"my-goals\">\r\n            <Card className=\"card-background\">\r\n            <Styling ><h2>My Goals</h2></Styling>\r\n            <Styling >\r\n            <h5>In Progress</h5>\r\n            <br />\r\n            Click to mark as complete\r\n            </Styling>\r\n        <RowStyle>\r\n        <Row>\r\n            \r\n            \r\n            {/* {goals && goals[\"101\"].displayName} */}\r\n            <ListGroup className=\"extra-padding\">\r\n                \r\n                {\r\n                    goalsData ?\r\n                    Object.keys( goalsData ).map( ( userGoal, i ) => {\r\n                        if(goalsData[userGoal].displayName)\r\n                            return (\r\n                                <ListGroup.Item action onClick = { () => handleCompletion( userGoal ) }>\r\n                                {/* { !(goalObj.isComplete) && goalObj.displayName} */}\r\n                                {console.log(\"Name: \" + goalsData[userGoal].displayName)}\r\n                                { !goalsData[userGoal].isComplete && goalsData[userGoal].displayName }\r\n                                </ListGroup.Item>\r\n                            )\r\n                        return (<></>)\r\n\r\n                            \r\n                    }\r\n                    ) : <ListGroup.Item>No Goals in Progress</ListGroup.Item>\r\n                }\r\n            </ListGroup>\r\n            \r\n        </Row>\r\n        <Row>\r\n            <Styling>\r\n                <h4>Completed</h4>\r\n            </Styling>\r\n            <ListGroup className=\"extra-padding\">\r\n            {\r\n                    goalsData ?\r\n                    Object.keys( goalsData ).map( ( userGoal, i ) => {\r\n                        if(goalsData[userGoal].isComplete) {\r\n                            return (\r\n                                <ListGroup.Item action onClick = { handleCompletion }>\r\n                                {/* { !(goalObj.isComplete) && goalObj.displayName} */}\r\n                                {console.log(\"Name: \" + goalsData[userGoal].displayName)}\r\n                                { goalsData[userGoal].displayName }\r\n                                </ListGroup.Item>\r\n                            )\r\n                        }\r\n                        return (<></>)\r\n                            \r\n                    }\r\n                    ) : <ListGroup.Item>No Goals Completed</ListGroup.Item>\r\n                }\r\n            </ListGroup>\r\n        </Row>\r\n        </RowStyle>\r\n        </Card>\r\n    </Col>\r\n    )\r\n}\r\n\r\nexport default MyGoalsDash","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\firebase.js",[],["112","113"],"C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\community.js",["114","115","116","117","118","119"],"import React, { useState, useEffect } from 'react';\r\nimport SearchBar from './searchbar.js';\r\nimport axios from 'axios';\r\nimport { Button, ListGroup, Row, Col} from 'react-bootstrap';\r\nimport { useAuth } from '../contexts/authContext.js';\r\n\r\n\r\nexport default function Community() {\r\n\r\n    const {currentUser} = useAuth();\r\n\r\n    const[selectedName, setSelectedName] = useState(\"\");\r\n    const[myFriends, setMyFriends] = useState([]);\r\n    \r\n    const[allUsers, setAllUsers] = useState({});\r\n    const[allNames, setNames] = useState([]);\r\n\r\n    async function getUsersName() {\r\n        const result = await axios({\r\n            method: 'get',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users.json`,\r\n            withCredientials: true\r\n           }).then((x) => {\r\n                setNames(Object.values(x.data).map((x) => x.name));\r\n                setAllUsers(x.data);\r\n           })\r\n    }\r\n\r\n    async function addFriends(toupdate, param, value) {\r\n        const obj = {};\r\n        obj[`${param}`] = value;\r\n        const result = await axios({\r\n            method: 'patch',\r\n            url: `https://sustainability-goals-default-rtdb.firebaseio.com/users/${toupdate}.json`,\r\n            data: obj\r\n        });\r\n        console.log(\"added friends\");\r\n    }\r\n\r\n    function sortPoints(arr) {\r\n        arr.sort(function(a, b) {\r\n            return b.points - a.points;\r\n          });\r\n        console.log(arr);\r\n    }\r\n\r\n\r\n\r\n    async function handleAddFriend() {\r\n\r\n        await getUsersName();\r\n\r\n        let friend = Object.values(allUsers).filter((x) => x.name==selectedName);\r\n        let me = Object.values(allUsers).filter((x) => x.email == currentUser.email);\r\n        // console.log(\"friend\" + JSON.stringify(friend));\r\n        // console.log(\"me\" + JSON.stringify(me));\r\n        let theirFriends;\r\n        let myFriends;\r\n\r\n        friend[0].community ? theirFriends = friend[0].community : theirFriends = [];\r\n        me[0].community ? myFriends = me[0].community : myFriends = [];\r\n\r\n        console.log(\"theirFriends\" + JSON.stringify(theirFriends));\r\n        console.log(\"myfriends\" + JSON.stringify(myFriends));\r\n            \r\n        \r\n        let friendObj = {}\r\n        let friendId = friend[0].uniqueID;\r\n        friendObj[\"name\"] = friend[0].name;\r\n        friendObj[\"points\"] = friend[0].Points;\r\n        let myObj = {}\r\n        let myId = me[0].uniqueID;\r\n        myObj[\"name\"] = me[0].name;\r\n        myObj[\"points\"] = me[0].Points;\r\n\r\n        if (!theirFriends.some((friend) => friend.name == myObj.name)) {\r\n            theirFriends.push(myObj);\r\n        }\r\n        if (!myFriends.some((friend) => friend.name == friendObj.name)) {\r\n            myFriends.push(friendObj);\r\n        }\r\n        setMyFriends(myFriends);\r\n        await addFriends(friendId, \"community\", theirFriends);\r\n        await addFriends(myId, \"community\", myFriends);\r\n        await getUsersName();\r\n        \r\n        }\r\n\r\n\r\n    function setParentName(n) {\r\n        setSelectedName(n);\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        getUsersName();\r\n    }, [])\r\n\r\n    return ( \r\n    <div className=\"community-container\">\r\n        {allNames && <SearchBar parentfunction={setParentName} names={allNames}/>}\r\n        <br/>\r\n        <Button className=\"add-friend\" onClick = { handleAddFriend } variant=\"primary\">  Add Friend </Button>\r\n        <br/>\r\n        \r\n        <div>\r\n        <ListGroup>\r\n            <ListGroup.Item><h1 className=\"text-center\">Leaderboard</h1></ListGroup.Item>\r\n            {sortPoints(myFriends)}\r\n            {myFriends ? myFriends.map((friend) => {\r\n                return (\r\n                    <ListGroup.Item>\r\n                        <Row>\r\n                            <Col><h2>{friend.name}</h2></Col>\r\n                            <Col className=\"text-right\"><h2>{friend.points}</h2></Col>\r\n                        </Row>                       \r\n                    </ListGroup.Item>\r\n                );\r\n            }): null\r\n        }\r\n        </ListGroup>\r\n        </div>\r\n        \r\n\r\n\r\n    </div>);\r\n    \r\n}","C:\\Users\\isagn\\Documents\\Dev\\HackDuke-2020\\EnergyBuddy\\my-app\\src\\components\\searchbar.js",[],{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":52,"column":15,"nodeType":"126","messageId":"127","endLine":52,"endColumn":21},{"ruleId":"128","severity":1,"message":"129","line":63,"column":8,"nodeType":"130","endLine":63,"endColumn":10,"suggestions":"131"},{"ruleId":"124","severity":1,"message":"132","line":4,"column":10,"nodeType":"126","messageId":"127","endLine":4,"endColumn":14},{"ruleId":"124","severity":1,"message":"133","line":9,"column":8,"nodeType":"126","messageId":"127","endLine":9,"endColumn":17},{"ruleId":"124","severity":1,"message":"134","line":26,"column":28,"nodeType":"126","messageId":"127","endLine":26,"endColumn":39},{"ruleId":"124","severity":1,"message":"135","line":29,"column":12,"nodeType":"126","messageId":"127","endLine":29,"endColumn":19},{"ruleId":"124","severity":1,"message":"136","line":38,"column":17,"nodeType":"126","messageId":"127","endLine":38,"endColumn":18},{"ruleId":"124","severity":1,"message":"125","line":53,"column":15,"nodeType":"126","messageId":"127","endLine":53,"endColumn":21},{"ruleId":"137","severity":1,"message":"138","line":83,"column":20,"nodeType":"139","endLine":83,"endColumn":32},{"ruleId":"124","severity":1,"message":"140","line":2,"column":21,"nodeType":"126","messageId":"127","endLine":2,"endColumn":24},{"ruleId":"124","severity":1,"message":"141","line":2,"column":31,"nodeType":"126","messageId":"127","endLine":2,"endColumn":40},{"ruleId":"124","severity":1,"message":"142","line":2,"column":42,"nodeType":"126","messageId":"127","endLine":2,"endColumn":46},{"ruleId":"128","severity":1,"message":"129","line":45,"column":8,"nodeType":"130","endLine":45,"endColumn":10,"suggestions":"143"},{"ruleId":"124","severity":1,"message":"144","line":1,"column":8,"nodeType":"126","messageId":"127","endLine":1,"endColumn":14},{"ruleId":"124","severity":1,"message":"145","line":2,"column":10,"nodeType":"126","messageId":"127","endLine":2,"endColumn":19},{"ruleId":"124","severity":1,"message":"146","line":2,"column":26,"nodeType":"126","messageId":"127","endLine":2,"endColumn":29},{"ruleId":"124","severity":1,"message":"141","line":2,"column":31,"nodeType":"126","messageId":"127","endLine":2,"endColumn":40},{"ruleId":"124","severity":1,"message":"147","line":3,"column":17,"nodeType":"126","messageId":"127","endLine":3,"endColumn":25},{"ruleId":"124","severity":1,"message":"148","line":3,"column":27,"nodeType":"126","messageId":"127","endLine":3,"endColumn":36},{"ruleId":"124","severity":1,"message":"144","line":1,"column":8,"nodeType":"126","messageId":"127","endLine":1,"endColumn":14},{"ruleId":"124","severity":1,"message":"145","line":2,"column":10,"nodeType":"126","messageId":"127","endLine":2,"endColumn":19},{"ruleId":"124","severity":1,"message":"146","line":2,"column":26,"nodeType":"126","messageId":"127","endLine":2,"endColumn":29},{"ruleId":"124","severity":1,"message":"141","line":2,"column":31,"nodeType":"126","messageId":"127","endLine":2,"endColumn":40},{"ruleId":"128","severity":1,"message":"129","line":50,"column":8,"nodeType":"130","endLine":50,"endColumn":10,"suggestions":"149"},{"ruleId":"124","severity":1,"message":"150","line":3,"column":14,"nodeType":"126","messageId":"127","endLine":3,"endColumn":25},{"ruleId":"124","severity":1,"message":"151","line":7,"column":8,"nodeType":"126","messageId":"127","endLine":7,"endColumn":23},{"ruleId":"124","severity":1,"message":"152","line":18,"column":12,"nodeType":"126","messageId":"127","endLine":18,"endColumn":20},{"ruleId":"124","severity":1,"message":"125","line":31,"column":15,"nodeType":"126","messageId":"127","endLine":31,"endColumn":21},{"ruleId":"124","severity":1,"message":"153","line":39,"column":20,"nodeType":"126","messageId":"127","endLine":39,"endColumn":29},{"ruleId":"124","severity":1,"message":"125","line":40,"column":15,"nodeType":"126","messageId":"127","endLine":40,"endColumn":21},{"ruleId":"124","severity":1,"message":"154","line":49,"column":20,"nodeType":"126","messageId":"127","endLine":49,"endColumn":32},{"ruleId":"124","severity":1,"message":"155","line":50,"column":13,"nodeType":"126","messageId":"127","endLine":50,"endColumn":21},{"ruleId":"124","severity":1,"message":"125","line":53,"column":15,"nodeType":"126","messageId":"127","endLine":53,"endColumn":21},{"ruleId":"128","severity":1,"message":"156","line":77,"column":8,"nodeType":"130","endLine":77,"endColumn":19,"suggestions":"157"},{"ruleId":"120","replacedBy":"158"},{"ruleId":"122","replacedBy":"159"},{"ruleId":"124","severity":1,"message":"125","line":19,"column":15,"nodeType":"126","messageId":"127","endLine":19,"endColumn":21},{"ruleId":"124","severity":1,"message":"125","line":32,"column":15,"nodeType":"126","messageId":"127","endLine":32,"endColumn":21},{"ruleId":"160","severity":1,"message":"161","line":53,"column":66,"nodeType":"162","messageId":"163","endLine":53,"endColumn":68},{"ruleId":"160","severity":1,"message":"161","line":54,"column":64,"nodeType":"162","messageId":"163","endLine":54,"endColumn":66},{"ruleId":"160","severity":1,"message":"161","line":76,"column":56,"nodeType":"162","messageId":"163","endLine":76,"endColumn":58},{"ruleId":"160","severity":1,"message":"161","line":79,"column":53,"nodeType":"162","messageId":"163","endLine":79,"endColumn":55},"no-native-reassign",["164"],"no-negated-in-lhs",["165"],"no-unused-vars","'result' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getUserGoals'. Either include it or remove the dependency array.","ArrayExpression",["166"],"'Link' is defined but never used.","'Community' is defined but never used.","'currentUser' is assigned a value but never used.","'loading' is assigned a value but never used.","'a' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Col' is defined but never used.","'ListGroup' is defined but never used.","'Card' is defined but never used.",["167"],"'Layout' is defined but never used.","'Container' is defined but never used.","'Row' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.",["168"],"'NavDropdown' is defined but never used.","'ResponsiveEmbed' is defined but never used.","'myPoints' is assigned a value but never used.","'getPoints' is defined but never used.","'updatePoints' is defined but never used.","'username' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'goals'. Either include it or remove the dependency array. If 'setGoalData' needs the current value of 'goals', you can also switch to useReducer instead of useState and read 'goals' in the reducer.",["169"],["164"],["165"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"170","fix":"171"},{"desc":"170","fix":"172"},{"desc":"170","fix":"173"},{"desc":"174","fix":"175"},"Update the dependencies array to be: [getUserGoals]",{"range":"176","text":"177"},{"range":"178","text":"177"},{"range":"179","text":"177"},"Update the dependencies array to be: [goals, goalsData]",{"range":"180","text":"181"},[2330,2332],"[getUserGoals]",[1440,1442],[1589,1591],[2470,2481],"[goals, goalsData]"]